<div id="messages"
     sse-swap="Chat"
     hx-swap="beforeend">
</div>

{{ if not .Player }}
<style>
    #player-dialog {
        padding: 1.25rem;

        form {
            label {
                display: block;
                margin-bottom: 1.25rem;
            }

            label > span {
                display: block;
                margin-bottom: .25rem;
                font-size: 1.25rem;
            }
        }

        button {
            font-size: 1.25rem;
            float: right;
        }
    }
</style>

<dialog id="player-dialog">
    <form hx-post="/lobby/{{ .LobbySlug }}/login" hx-target="body">
        <label>
            <span>Your name</span>
            <input type="text" name="name">
        </label>
        <button type="submit">Continue</button>
    </form>
</dialog>
<script>document.getElementById('player-dialog').showModal()</script>
{{ else }}
<style>
    h3 {
        margin: 0;
    }

    p {
        margin: 1rem 0 2rem;
    }

    button {
        font-size: 1.25rem;
        float: right;
    }
</style>
<dialog id="welcome-dialog">
    <h3>Welcome, {{ .Player.Name }}!</h3>
    <p>Have fun!</p>
    <button onclick="document.getElementById('welcome-dialog').close()">Continue</button>
</dialog>
<script>document.getElementById('welcome-dialog').showModal()</script>
{{ end }}